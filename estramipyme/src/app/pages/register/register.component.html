<div class="container">
  <form id="register-form" (ngSubmit)="onRegister(form)" #form="ngForm">
    <h2 class="heading-form">Registrar cuenta</h2>
    <div class="register-form-cols">
      <div class="fila">
        <div class="campos">
          <label for="register-names">Nombres:</label>
          <input type="text" id="register-names" name="name" ngModel required />
          <div
            *ngIf="
              form.controls['name']?.invalid &&
              (form.controls['name']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
        <div class="campos">
          <label for="register-surnames">Apellidos:</label>
          <input
            type="text"
            id="register-surnames"
            required
            name="lastname"
            ngModel
          />
          <div
            *ngIf="
              form.controls['lastname']?.invalid &&
              (form.controls['lastname']?.touched || form.submitted)
            "
          >
            <small style="color: red">Este campo es obligatorio.</small>
          </div>
        </div>
      </div>
      <div class="campos" style="width: 100%">
        <label for="register-email">Correo Electrónico:</label>
        <input type="email" id="register-email" required name="email" ngModel />
        <div
          *ngIf="
            form.controls['email']?.invalid &&
            (form.controls['email']?.touched || form.submitted)
          "
        >
          <small class="error" style="color: red"
            >Este campo es obligatorio.</small
          >
        </div>
      </div>

      <div class="fila">
        <div class="campos">
          <label for="register-doc-number">Número de Documento:</label>
          <input
            type="number"
            id="register-doc-number"
            required
            name="numberDocument"
            ngModel
          />
          <div
            *ngIf="
              form.controls['numberDocument']?.invalid &&
              (form.controls['numberDocument']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
        <div class="campos">
          <label for="register-doc-type">Tipo de Documento:</label>
          <select id="register-doc-type" required name="typeDocument" ngModel>
            <option value="" disabled selected>Selecciona</option>
            <option
              *ngFor="let typeDocument of typeDocument | keyvalue"
              [value]="typeDocument.key"
            >
              {{ typeDocument.value }}
            </option>
          </select>
          <div
            *ngIf="
              form.controls['typeDocument']?.invalid &&
              (form.controls['typeDocument']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
      </div>

      <div class="fila">
        <div class="campos">
          <label for="register-person-type">Tipo de Persona:</label>
          <select id="register-person-type" required name="typeUser" ngModel>
            <option value="" disabled selected>Selecciona</option>
            <option
              *ngFor="let typeUser of typeUsers | keyvalue"
              [value]="typeUser.key"
            >
              {{ typeUser.value }}
            </option>
          </select>
          <div
            *ngIf="
              form.controls['typeUser']?.invalid &&
              (form.controls['typeUser']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>

        <div class="campos">
          <label for="register-business-name">Razón Social:</label>
          <input
            type="text"
            id="register-business-name"
            required
            name="businessName"
            ngModel
          />
          <div
            *ngIf="
              form.controls['businessName']?.invalid &&
              (form.controls['businessName']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
      </div>
      <div class="fila">
        <div class="campos">
          <label for="register-sector">Sector:</label>
          <select id="register-sector" required name="sector" ngModel>
            <option value="" disabled selected>Selecciona</option>
            <option
              *ngFor="let sector of sector | keyvalue"
              [value]="sector.key"
            >
              {{ sector.value }}
            </option>
          </select>
          <div
            *ngIf="
              form.controls['sector']?.invalid &&
              (form.controls['sector']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
        <div class="campos">
          <label for="register-otro">Otro Sector:</label>
          <input type="text" id="register-otro" name="otherSector" ngModel required />
          <div
            *ngIf="
              form.controls['otherSector']?.invalid &&
              (form.controls['otherSector']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
      </div>

      <div class="fila">
        <div class="campos">
          <label for="register-password">Contraseña:</label>
          <input
            type="password"
            id="register-password"
            required
            name="password"
            ngModel
          />
          <div
            *ngIf="
              form.controls['password']?.invalid &&
              (form.controls['password']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>

        <div class="campos">
          <label for="register-confirm-password">Confirmar Contraseña:</label>
          <input
            type="password"
            id="register-confirm-password"
            required
            name="confirmPassword"
            ngModel
          />
          <div
            *ngIf="
              form.controls['confirmPassword']?.invalid &&
              (form.controls['confirmPassword']?.touched || form.submitted)
            "
          >
            <small class="error" style="color: red"
              >Este campo es obligatorio.</small
            >
          </div>
        </div>
      </div>
    </div>
    <div class="tratamiento-datos">
      <div>
        <label for="tratamientos-datos"> </label>
        <input
          type="checkbox"
          id="tratamientos-datos"
          name="tratamientos-datos"
          ngModel
        />
        Acepto el tratamiento de datos personales
      </div>
    </div>
    <button type="submit" id="registerButton" class="btn-register">
      Registrarse
    </button>

    <p class="login-link">
      ¿Ya tienes una cuenta?
      <a href="login" id="show-login">Inicia sesión aquí</a>
    </p>

    <div class="register-go-back">
      <button type="button" id="go-back" (click)="navigateTo('')">
        Regresar
      </button>
    </div>
  </form>
</div>
